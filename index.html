<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crypto Platform ‚Äî Backend Flow Explorer</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --pink: #FF6B9D;
    --purple: #A855F7;
    --blue: #3B82F6;
    --cyan: #06B6D4;
    --green: #10B981;
    --yellow: #F59E0B;
    --orange: #F97316;
    --red: #EF4444;
    --bg: #0F0F1A;
    --card: #1A1A2E;
    --card2: #16213E;
    --border: rgba(255,255,255,0.08);
    --text: #E2E8F0;
    --muted: #94A3B8;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Animated background dots */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.04) 1px, transparent 0);
    background-size: 32px 32px;
    pointer-events: none;
    z-index: 0;
  }

  header {
    text-align: center;
    padding: 48px 24px 32px;
    position: relative;
    z-index: 1;
  }

  header .tag {
    display: inline-block;
    background: linear-gradient(135deg, var(--pink), var(--purple));
    color: white;
    font-size: 12px;
    font-weight: 800;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 6px 16px;
    border-radius: 20px;
    margin-bottom: 16px;
  }

  header h1 {
    font-family: 'Fredoka One', cursive;
    font-size: clamp(2rem, 5vw, 3.5rem);
    background: linear-gradient(135deg, #FF6B9D, #A855F7, #3B82F6, #06B6D4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.1;
    margin-bottom: 12px;
  }

  header p {
    color: var(--muted);
    font-size: 16px;
    font-weight: 600;
    max-width: 500px;
    margin: 0 auto;
  }

  /* Tab nav */
  .tab-nav {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
    padding: 0 24px 32px;
    position: relative;
    z-index: 1;
  }

  .tab-btn {
    padding: 10px 20px;
    border-radius: 50px;
    border: 2px solid transparent;
    background: var(--card);
    color: var(--muted);
    font-family: 'Nunito', sans-serif;
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.25s ease;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .tab-btn:hover {
    color: white;
    transform: translateY(-2px);
  }

  .tab-btn.active {
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.3);
  }

  .tab-btn[data-tab="overview"].active  { background: linear-gradient(135deg,#FF6B9D,#A855F7); border-color: #FF6B9D; }
  .tab-btn[data-tab="auth"].active      { background: linear-gradient(135deg,#3B82F6,#06B6D4); border-color: #3B82F6; }
  .tab-btn[data-tab="wallet"].active    { background: linear-gradient(135deg,#10B981,#06B6D4); border-color: #10B981; }
  .tab-btn[data-tab="orders"].active    { background: linear-gradient(135deg,#F59E0B,#F97316); border-color: #F59E0B; }
  .tab-btn[data-tab="chat"].active      { background: linear-gradient(135deg,#A855F7,#EC4899); border-color: #A855F7; }
  .tab-btn[data-tab="boot"].active      { background: linear-gradient(135deg,#EF4444,#F97316); border-color: #EF4444; }

  /* Main container */
  .main {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 24px 80px;
    position: relative;
    z-index: 1;
  }

  .tab-panel { display: none; }
  .tab-panel.active { display: block; animation: fadeUp 0.4s ease; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  /* Flow diagram */
  .flow {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }

  .flow-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  /* Node */
  .node {
    border-radius: 16px;
    padding: 16px 22px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    min-width: 130px;
    max-width: 180px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    border: 2px solid transparent;
  }

  .node:hover {
    transform: translateY(-4px) scale(1.04);
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
  }

  .node .icon { font-size: 28px; }
  .node .label {
    font-size: 12px;
    font-weight: 800;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    color: white;
  }
  .node .sublabel {
    font-size: 11px;
    color: rgba(255,255,255,0.65);
    font-weight: 600;
  }

  .node-client    { background: linear-gradient(135deg,#1e3a5f,#0f2040); border-color: #3B82F6; }
  .node-controller{ background: linear-gradient(135deg,#4c1d95,#2e1065); border-color: #A855F7; }
  .node-service   { background: linear-gradient(135deg,#1e4040,#0f2d2d); border-color: #10B981; }
  .node-repo      { background: linear-gradient(135deg,#78350f,#451a03); border-color: #F59E0B; }
  .node-db        { background: linear-gradient(135deg,#7f1d1d,#450a0a); border-color: #EF4444; }
  .node-config    { background: linear-gradient(135deg,#1e1b4b,#12104b); border-color: #6366F1; }
  .node-utils     { background: linear-gradient(135deg,#164e63,#0c2f3a); border-color: #06B6D4; }
  .node-external  { background: linear-gradient(135deg,#4a1d49,#2d0f2c); border-color: #EC4899; }
  .node-model     { background: linear-gradient(135deg,#1c3428,#0f1f18); border-color: #34D399; }
  .node-request   { background: linear-gradient(135deg,#2d1b4e,#1a0f30); border-color: #818CF8; }
  .node-response  { background: linear-gradient(135deg,#1e3a5f,#0c1f35); border-color: #60A5FA; }
  .node-security  { background: linear-gradient(135deg,#422006,#2a1203); border-color: #FB923C; }

  /* Arrow */
  .arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 2px;
    padding: 2px 0;
  }

  .arrow-v {
    width: 2px;
    height: 32px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
    position: relative;
    margin: 0 auto;
  }

  .arrow-v::after {
    content: '‚ñº';
    position: absolute;
    bottom: -14px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 10px;
    color: rgba(255,255,255,0.3);
  }

  .arrow-h {
    height: 2px;
    width: 32px;
    background: linear-gradient(to right, rgba(255,255,255,0.1), rgba(255,255,255,0.3));
    position: relative;
    flex-shrink: 0;
  }

  .arrow-h::after {
    content: '‚ñ∂';
    position: absolute;
    right: -10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 10px;
    color: rgba(255,255,255,0.35);
  }

  .arrow-label {
    font-size: 10px;
    color: var(--muted);
    font-weight: 700;
    letter-spacing: 0.5px;
    text-align: center;
    max-width: 120px;
  }

  /* Section title */
  .section-title {
    font-family: 'Fredoka One', cursive;
    font-size: 22px;
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  /* Info cards */
  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 16px;
    margin-top: 40px;
  }

  .info-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 20px;
    transition: all 0.25s ease;
  }

  .info-card:hover {
    border-color: rgba(255,255,255,0.15);
    transform: translateY(-2px);
  }

  .info-card h3 {
    font-size: 13px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .info-card p, .info-card li {
    font-size: 13px;
    color: var(--muted);
    line-height: 1.7;
    font-weight: 600;
  }

  .info-card ul { padding-left: 16px; }

  .badge {
    display: inline-block;
    padding: 2px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 800;
    margin: 2px 3px 2px 0;
  }

  .badge-pink   { background: rgba(255,107,157,0.15); color: #FF6B9D; border: 1px solid rgba(255,107,157,0.3); }
  .badge-purple { background: rgba(168,85,247,0.15);  color: #A855F7; border: 1px solid rgba(168,85,247,0.3); }
  .badge-blue   { background: rgba(59,130,246,0.15);  color: #60A5FA; border: 1px solid rgba(59,130,246,0.3); }
  .badge-green  { background: rgba(16,185,129,0.15);  color: #34D399; border: 1px solid rgba(16,185,129,0.3); }
  .badge-yellow { background: rgba(245,158,11,0.15);  color: #FCD34D; border: 1px solid rgba(245,158,11,0.3); }
  .badge-cyan   { background: rgba(6,182,212,0.15);   color: #22D3EE; border: 1px solid rgba(6,182,212,0.3); }
  .badge-orange { background: rgba(249,115,22,0.15);  color: #FB923C; border: 1px solid rgba(249,115,22,0.3); }

  /* Legend */
  .legend {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-bottom: 32px;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    font-weight: 700;
    color: var(--muted);
  }

  .legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 4px;
    flex-shrink: 0;
  }

  /* Horizontal multi-flow */
  .multi-flow {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
    margin-bottom: 40px;
  }

  .flow-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 24px;
  }

  .flow-card h3 {
    font-family: 'Fredoka One', cursive;
    font-size: 17px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .step-list { display: flex; flex-direction: column; gap: 0; }

  .step {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 0;
    position: relative;
  }

  .step:not(:last-child)::after {
    content: '';
    position: absolute;
    left: 15px;
    top: 36px;
    bottom: -4px;
    width: 2px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.1), transparent);
  }

  .step-num {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 800;
    flex-shrink: 0;
    color: white;
  }

  .step-content { flex: 1; }
  .step-content strong {
    display: block;
    font-size: 13px;
    font-weight: 800;
    margin-bottom: 2px;
    color: white;
  }
  .step-content span {
    font-size: 12px;
    color: var(--muted);
    font-weight: 600;
    line-height: 1.5;
  }

  /* Overview big diagram */
  .overview-diagram {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 32px;
    margin-bottom: 32px;
    position: relative;
    overflow: hidden;
  }

  .overview-diagram::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -20%;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(168,85,247,0.06) 0%, transparent 60%);
    pointer-events: none;
  }

  .layer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 14px 0;
    flex-wrap: wrap;
  }

  .layer-label {
    font-size: 10px;
    font-weight: 800;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--muted);
    writing-mode: vertical-rl;
    text-orientation: mixed;
    transform: rotate(180deg);
    min-width: 20px;
  }

  .layer-nodes {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
    flex: 1;
  }

  .divider {
    border: none;
    border-top: 1px dashed rgba(255,255,255,0.07);
    margin: 4px 0;
  }

  .connector-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 24px;
    padding: 4px 0;
    flex-wrap: wrap;
  }

  .connector-line {
    display: flex;
    align-items: center;
    gap: 4px;
    color: var(--muted);
    font-size: 11px;
    font-weight: 700;
  }

  /* Tooltip */
  .tooltip-trigger { position: relative; }
  .tooltip-box {
    display: none;
    position: absolute;
    bottom: calc(100% + 10px);
    left: 50%;
    transform: translateX(-50%);
    background: #1E293B;
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 12px;
    padding: 12px 16px;
    width: 200px;
    font-size: 12px;
    color: var(--muted);
    font-weight: 600;
    line-height: 1.6;
    z-index: 100;
    text-align: left;
    box-shadow: 0 16px 40px rgba(0,0,0,0.5);
  }
  .tooltip-box strong { color: white; display: block; margin-bottom: 4px; }
  .tooltip-trigger:hover .tooltip-box { display: block; animation: fadeUp 0.2s ease; }

  /* Pulse animation on important nodes */
  @keyframes pulse-ring {
    0%   { box-shadow: 0 0 0 0 rgba(168,85,247,0.4); }
    70%  { box-shadow: 0 0 0 12px rgba(168,85,247,0); }
    100% { box-shadow: 0 0 0 0 rgba(168,85,247,0); }
  }
  .pulse { animation: pulse-ring 2.5s infinite; }
</style>
</head>
<body>

<header>
  <div class="tag">üìö Backend Concept Visualizer</div>
  <h1>Crypto Trading Platform<br>Architecture Flow</h1>
  <p>Click any tab to explore how each layer of the Spring Boot backend works together ‚ú®</p>
</header>

<nav class="tab-nav">
  <button class="tab-btn active" data-tab="overview">üó∫Ô∏è Full Overview</button>
  <button class="tab-btn" data-tab="boot">üöÄ App Boot</button>
  <button class="tab-btn" data-tab="auth">üîê Auth & JWT</button>
  <button class="tab-btn" data-tab="wallet">üí∞ Wallet & Transfers</button>
  <button class="tab-btn" data-tab="orders">üìà Buy / Sell Orders</button>
  <button class="tab-btn" data-tab="chat">ü§ñ AI Chatbot</button>
</nav>

<main class="main">

  <!-- ========================= OVERVIEW ========================= -->
  <div class="tab-panel active" id="overview">
    <div class="section-title">üó∫Ô∏è <span style="background:linear-gradient(135deg,#FF6B9D,#A855F7);-webkit-background-clip:text;-webkit-text-fill-color:transparent">Full System Architecture</span></div>

    <div class="legend">
      <div class="legend-item"><div class="legend-dot" style="background:#3B82F6"></div> Client Layer</div>
      <div class="legend-item"><div class="legend-dot" style="background:#A855F7"></div> Controller</div>
      <div class="legend-item"><div class="legend-dot" style="background:#10B981"></div> Service</div>
      <div class="legend-item"><div class="legend-dot" style="background:#F59E0B"></div> Repository</div>
      <div class="legend-item"><div class="legend-dot" style="background:#EF4444"></div> Database</div>
      <div class="legend-item"><div class="legend-dot" style="background:#EC4899"></div> External APIs</div>
      <div class="legend-item"><div class="legend-dot" style="background:#6366F1"></div> Config / Utils</div>
    </div>

    <div class="overview-diagram">
      <!-- Client -->
      <div class="layer">
        <span class="layer-label">Client</span>
        <div class="layer-nodes">
          <div class="node node-client tooltip-trigger" style="min-width:160px">
            <div class="icon">üåê</div>
            <div class="label">Browser / Mobile</div>
            <div class="sublabel">React UI ¬∑ HTTP Requests</div>
            <div class="tooltip-box"><strong>Client Layer</strong>User clicks Login, Buy, Sell, Transfer or Withdraw. Sends HTTPS requests with JSON body.</div>
          </div>
        </div>
      </div>

      <!-- Arrow down -->
      <div style="text-align:center; padding:4px 0 2px">
        <div class="arrow-v" style="margin:0 auto; position:relative; height:28px">
          <span style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:10px;color:var(--muted);white-space:nowrap;background:var(--card);padding:0 6px">HTTPS JSON</span>
        </div>
      </div>
      <div class="arrow-v" style="margin:-8px auto 0; height:18px;"></div>

      <!-- Security filter -->
      <div class="layer">
        <span class="layer-label">Security</span>
        <div class="layer-nodes">
          <div class="node node-security tooltip-trigger pulse">
            <div class="icon">üõ°Ô∏è</div>
            <div class="label">Security Filter</div>
            <div class="sublabel">config/ ‚Äî JWT check</div>
            <div class="tooltip-box"><strong>Spring Security</strong>Every request goes through here first. Checks JWT token. If valid ‚Üí passes through. If not ‚Üí 401 Unauthorized.</div>
          </div>
        </div>
      </div>

      <div class="arrow-v" style="margin:4px auto; height:28px;"></div>

      <!-- Controller -->
      <div class="layer">
        <span class="layer-label">API Layer</span>
        <div class="layer-nodes">
          <div class="node node-controller tooltip-trigger">
            <div class="icon">üéÆ</div>
            <div class="label">Controller</div>
            <div class="sublabel">Routes & Endpoints</div>
            <div class="tooltip-box"><strong>controller/</strong>Receives HTTP request, reads body (request DTO), calls the right Service, returns response DTO. No business logic here.</div>
          </div>
        </div>
      </div>

      <div class="arrow-v" style="margin:4px auto; height:28px;"></div>

      <!-- Service + externals -->
      <div class="layer">
        <span class="layer-label">Business</span>
        <div class="layer-nodes" style="flex-direction:column; align-items:center;">
          <div style="display:flex; gap:12px; flex-wrap:wrap; justify-content:center;">
            <div class="node node-service tooltip-trigger">
              <div class="icon">‚öôÔ∏è</div>
              <div class="label">Service</div>
              <div class="sublabel">Business Rules & Logic</div>
              <div class="tooltip-box"><strong>service/</strong>Where ALL rules live: wallet balance checks, OTP validation, buy/sell logic, price fetching, atomic DB writes.</div>
            </div>
            <div style="display:flex; flex-direction:column; gap:10px; justify-content:center; align-items:center;">
              <div class="node node-utils tooltip-trigger" style="min-width:110px; padding:12px 16px;">
                <div class="icon">üîß</div>
                <div class="label">Utils</div>
                <div class="sublabel">JWT ¬∑ OTP ¬∑ Helpers</div>
                <div class="tooltip-box"><strong>utils/</strong>Stateless helpers: generate JWT, validate OTP, parse tokens, price conversion math.</div>
              </div>
              <div class="node node-external tooltip-trigger" style="min-width:110px; padding:12px 16px;">
                <div class="icon">üåç</div>
                <div class="label">External APIs</div>
                <div class="sublabel">CoinGecko ¬∑ Gemini ¬∑ Stripe</div>
                <div class="tooltip-box"><strong>External APIs</strong>CoinGecko for live crypto prices. Gemini AI for chatbot. Stripe/Razorpay for payments.</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="arrow-v" style="margin:4px auto; height:28px;"></div>

      <!-- Repository -->
      <div class="layer">
        <span class="layer-label">Data</span>
        <div class="layer-nodes">
          <div class="node node-repo tooltip-trigger">
            <div class="icon">üì¶</div>
            <div class="label">Repository</div>
            <div class="sublabel">JPA ‚Äî DB Operations</div>
            <div class="tooltip-box"><strong>repository/</strong>Spring Data JPA interfaces. Handles all SQL under the hood: SELECT, INSERT, UPDATE. Returns model/entity objects.</div>
          </div>
        </div>
      </div>

      <div class="arrow-v" style="margin:4px auto; height:28px;"></div>

      <!-- DB -->
      <div class="layer">
        <span class="layer-label">Database</span>
        <div class="layer-nodes" style="flex-wrap:wrap; gap:8px;">
          <div class="node node-db tooltip-trigger" style="min-width:100px;padding:10px 14px;">
            <div class="icon">üë§</div>
            <div class="label" style="font-size:10px;">Users</div>
            <div class="tooltip-box"><strong>users table</strong>Stores user credentials, roles, KYC status.</div>
          </div>
          <div class="node node-db tooltip-trigger" style="min-width:100px;padding:10px 14px;">
            <div class="icon">üí≥</div>
            <div class="label" style="font-size:10px;">Wallets</div>
            <div class="tooltip-box"><strong>wallets table</strong>Each user has a wallet with fiat balance and crypto holdings.</div>
          </div>
          <div class="node node-db tooltip-trigger" style="min-width:100px;padding:10px 14px;">
            <div class="icon">üìã</div>
            <div class="label" style="font-size:10px;">Orders</div>
            <div class="tooltip-box"><strong>orders table</strong>All buy/sell orders with price, quantity, timestamp, status.</div>
          </div>
          <div class="node node-db tooltip-trigger" style="min-width:100px;padding:10px 14px;">
            <div class="icon">üìä</div>
            <div class="label" style="font-size:10px;">Assets</div>
            <div class="tooltip-box"><strong>assets table</strong>User portfolio ‚Äî which coins they hold and how much.</div>
          </div>
          <div class="node node-db tooltip-trigger" style="min-width:100px;padding:10px 14px;">
            <div class="icon">üìú</div>
            <div class="label" style="font-size:10px;">History</div>
            <div class="tooltip-box"><strong>wallet_transactions table</strong>Every credit/debit with reason, amount, timestamp.</div>
          </div>
          <div class="node node-db tooltip-trigger" style="min-width:100px;padding:10px 14px;">
            <div class="icon">‚≠ê</div>
            <div class="label" style="font-size:10px;">Watchlist</div>
            <div class="tooltip-box"><strong>watchlist table</strong>User's favourite coins to track.</div>
          </div>
        </div>
      </div>

      <!-- Supporting layer -->
      <hr class="divider" style="margin-top:24px;margin-bottom:16px;">
      <div style="text-align:center;margin-bottom:8px;">
        <span style="font-size:11px;font-weight:800;letter-spacing:1px;text-transform:uppercase;color:var(--muted);">Supporting Infrastructure</span>
      </div>
      <div class="layer">
        <div class="layer-nodes" style="gap:10px;">
          <div class="node node-config tooltip-trigger" style="min-width:120px;padding:12px 14px;">
            <div class="icon">‚öôÔ∏è</div>
            <div class="label" style="font-size:10px;">config/</div>
            <div class="sublabel">Security ¬∑ CORS ¬∑ Beans</div>
            <div class="tooltip-box"><strong>config/</strong>Spring Security config, JWT filter, CORS rules, bean definitions.</div>
          </div>
          <div class="node node-model tooltip-trigger" style="min-width:120px;padding:12px 14px;">
            <div class="icon">üß©</div>
            <div class="label" style="font-size:10px;">model/ + domain/</div>
            <div class="sublabel">Entities & Enums</div>
            <div class="tooltip-box"><strong>model/domain/</strong>Java classes mapped to DB tables. User, Wallet, Order, Asset, WalletTransaction etc.</div>
          </div>
          <div class="node node-request tooltip-trigger" style="min-width:120px;padding:12px 14px;">
            <div class="icon">üì•</div>
            <div class="label" style="font-size:10px;">request/</div>
            <div class="sublabel">Input DTOs</div>
            <div class="tooltip-box"><strong>request/</strong>What the client sends in. LoginRequest, BuyOrderRequest, TransferRequest etc.</div>
          </div>
          <div class="node node-response tooltip-trigger" style="min-width:120px;padding:12px 14px;">
            <div class="icon">üì§</div>
            <div class="label" style="font-size:10px;">response/</div>
            <div class="sublabel">Output DTOs</div>
            <div class="tooltip-box"><strong>response/</strong>What the server sends back. AuthResponse, OrderResponse, WalletResponse etc.</div>
          </div>
          <div class="node node-utils tooltip-trigger" style="min-width:120px;padding:12px 14px;">
            <div class="icon">üìÑ</div>
            <div class="label" style="font-size:10px;">application.properties</div>
            <div class="sublabel">DB ¬∑ Keys ¬∑ Mail</div>
            <div class="tooltip-box"><strong>resources/application.properties</strong>All environment config: DB url, Gemini API key, Stripe key, mail settings, JWT secret.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3 style="color:#FF6B9D">üéØ The Golden Rule</h3>
        <p>Controller <strong>never</strong> decides business rules. It only receives the request, delegates to Service, and returns the response. All logic lives in Service.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#10B981">üîÑ Data Flow</h3>
        <p>Client ‚Üí Controller ‚Üí Service ‚Üí Repository ‚Üí MySQL ‚Üí back up the chain with Response DTOs. Clean separation at every step.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#F59E0B">üìÅ Key Folders</h3>
        <p>
          <span class="badge badge-purple">controller/</span>
          <span class="badge badge-green">service/</span>
          <span class="badge badge-yellow">repository/</span>
          <span class="badge badge-blue">config/</span>
          <span class="badge badge-cyan">utils/</span>
          <span class="badge badge-pink">model/domain/</span>
          <span class="badge badge-blue">request/ response/</span>
        </p>
      </div>
    </div>
  </div>

  <!-- ========================= BOOT ========================= -->
  <div class="tab-panel" id="boot">
    <div class="section-title">üöÄ <span style="background:linear-gradient(135deg,#EF4444,#F97316);-webkit-background-clip:text;-webkit-text-fill-color:transparent">App Boot Flow</span></div>

    <div class="overview-diagram">
      <div class="flow">
        <div class="node" style="background:linear-gradient(135deg,#7f1d1d,#991b1b);border:2px solid #EF4444;min-width:280px;">
          <div class="icon">üèÅ</div>
          <div class="label">ServercompApplication.java</div>
          <div class="sublabel">@SpringBootApplication ‚Äî starts everything</div>
        </div>
        <div class="arrow-v" style="height:32px;margin:0 auto;"></div>
        <div class="node" style="background:linear-gradient(135deg,#1e3a5f,#0f2040);border:2px solid #3B82F6;min-width:280px;">
          <div class="icon">üîç</div>
          <div class="label">Component Scan</div>
          <div class="sublabel">Scans com.eztrad.servercomp.*</div>
        </div>
        <div class="arrow-v" style="height:32px;margin:0 auto;"></div>
        <div style="display:flex;gap:16px;flex-wrap:wrap;justify-content:center;">
          <div class="node node-config" style="min-width:120px;padding:14px 16px;">
            <div class="icon">‚öôÔ∏è</div>
            <div class="label" style="font-size:10px;">config/</div>
            <div class="sublabel">Load Security, CORS, Beans</div>
          </div>
          <div class="node node-controller" style="min-width:120px;padding:14px 16px;">
            <div class="icon">üéÆ</div>
            <div class="label" style="font-size:10px;">controller/</div>
            <div class="sublabel">Register HTTP routes</div>
          </div>
          <div class="node node-service" style="min-width:120px;padding:14px 16px;">
            <div class="icon">‚öôÔ∏è</div>
            <div class="label" style="font-size:10px;">service/</div>
            <div class="sublabel">Register @Service beans</div>
          </div>
          <div class="node node-repo" style="min-width:120px;padding:14px 16px;">
            <div class="icon">üì¶</div>
            <div class="label" style="font-size:10px;">repository/</div>
            <div class="sublabel">JPA connects to DB</div>
          </div>
        </div>
        <div class="arrow-v" style="height:32px;margin:0 auto;"></div>
        <div class="node" style="background:linear-gradient(135deg,#1e4040,#0f2d2d);border:2px solid #10B981;min-width:280px;">
          <div class="icon">‚úÖ</div>
          <div class="label">Application Ready!</div>
          <div class="sublabel">All endpoints now live on the server</div>
        </div>
      </div>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3 style="color:#EF4444">üèÅ Entry Point</h3>
        <p><code style="color:#FB923C">ServercompApplication.java</code> has the <code style="color:#FB923C">main()</code> method. <code style="color:#FB923C">@SpringBootApplication</code> tells Spring to auto-scan all folders inside the package.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#3B82F6">‚ö° What happens first?</h3>
        <ul>
          <li>Reads <code style="color:#60A5FA">application.properties</code></li>
          <li>Connects to MySQL</li>
          <li>Loads security config</li>
          <li>Registers all @RestController routes</li>
          <li>Server becomes ready to accept requests</li>
        </ul>
      </div>
      <div class="info-card">
        <h3 style="color:#10B981">üìÅ Files involved</h3>
        <p>
          <span class="badge badge-orange">ServercompApplication.java</span>
          <span class="badge badge-blue">config/</span>
          <span class="badge badge-purple">controller/</span>
          <span class="badge badge-green">service/</span>
          <span class="badge badge-yellow">repository/</span>
          <span class="badge badge-cyan">application.properties</span>
        </p>
      </div>
    </div>
  </div>

  <!-- ========================= AUTH ========================= -->
  <div class="tab-panel" id="auth">
    <div class="section-title">üîê <span style="background:linear-gradient(135deg,#3B82F6,#06B6D4);-webkit-background-clip:text;-webkit-text-fill-color:transparent">Authentication & JWT Flow</span></div>

    <div class="multi-flow">
      <div class="flow-card">
        <h3 style="color:#10B981">üìù Register Flow</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#3B82F6,#06B6D4)">1</div>
            <div class="step-content">
              <strong>Client sends RegisterRequest</strong>
              <span>POST /auth/register with name, email, password</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#A855F7,#6366F1)">2</div>
            <div class="step-content">
              <strong>Controller receives it</strong>
              <span>Validates input, delegates to AuthService</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">3</div>
            <div class="step-content">
              <strong>Service hashes password</strong>
              <span>BCrypt encodes the password before saving</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F59E0B,#F97316)">4</div>
            <div class="step-content">
              <strong>Repository saves User</strong>
              <span>Creates User + assigns Role in MySQL</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EF4444,#F97316)">5</div>
            <div class="step-content">
              <strong>Returns AuthResponse</strong>
              <span>JWT access token + refresh token sent back</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flow-card">
        <h3 style="color:#3B82F6">üîë Login Flow</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#3B82F6,#06B6D4)">1</div>
            <div class="step-content">
              <strong>Client sends LoginRequest</strong>
              <span>POST /auth/login with email, password</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#A855F7,#6366F1)">2</div>
            <div class="step-content">
              <strong>Controller delegates to Service</strong>
              <span>Passes credentials to AuthService</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">3</div>
            <div class="step-content">
              <strong>Service validates password</strong>
              <span>Fetches user from DB, BCrypt compares passwords</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#06B6D4,#3B82F6)">4</div>
            <div class="step-content">
              <strong>Utils generates JWT</strong>
              <span>Signs token with secret key + sets expiry</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EF4444,#F97316)">5</div>
            <div class="step-content">
              <strong>Token returned to client</strong>
              <span>Client stores token, uses it in every future request</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flow-card">
        <h3 style="color:#F97316">üõ°Ô∏è Protected Request Flow</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#3B82F6,#06B6D4)">1</div>
            <div class="step-content">
              <strong>Client sends JWT in header</strong>
              <span>Authorization: Bearer &lt;token&gt;</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F97316,#EF4444)">2</div>
            <div class="step-content">
              <strong>Security Filter intercepts</strong>
              <span>config/ JWT filter reads Authorization header</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#06B6D4,#3B82F6)">3</div>
            <div class="step-content">
              <strong>Utils validates token</strong>
              <span>Checks signature, expiry. Extracts userId from payload</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">4</div>
            <div class="step-content">
              <strong>‚úÖ Valid ‚Üí passes to Controller</strong>
              <span>Request continues normally</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EF4444,#991b1b)">5</div>
            <div class="step-content">
              <strong>‚ùå Invalid ‚Üí 401 returned</strong>
              <span>Request blocked, client must re-login</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3 style="color:#3B82F6">üé´ What is JWT?</h3>
        <p>JSON Web Token ‚Äî a signed string the server generates after login. Client includes it in every request so the server knows who you are without hitting the DB every time.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#A855F7">üìÅ Files Involved</h3>
        <p>
          <span class="badge badge-purple">controller/</span>
          <span class="badge badge-green">service/</span>
          <span class="badge badge-yellow">repository/</span>
          <span class="badge badge-orange">config/ (Security)</span>
          <span class="badge badge-cyan">utils/ (JWT)</span>
          <span class="badge badge-blue">request/ response/</span>
          <span class="badge badge-pink">model/ (User, Role)</span>
        </p>
      </div>
    </div>
  </div>

  <!-- ========================= WALLET ========================= -->
  <div class="tab-panel" id="wallet">
    <div class="section-title">üí∞ <span style="background:linear-gradient(135deg,#10B981,#06B6D4);-webkit-background-clip:text;-webkit-text-fill-color:transparent">Wallet & Transfers</span></div>

    <div class="multi-flow">
      <div class="flow-card">
        <h3 style="color:#10B981">üí≥ Add Balance (Payment)</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">1</div>
            <div class="step-content">
              <strong>User clicks "Add Balance"</strong>
              <span>POST /payment/create with amount</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#A855F7,#6366F1)">2</div>
            <div class="step-content">
              <strong>Service calls Stripe/Razorpay</strong>
              <span>Creates payment session/order externally</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EC4899,#A855F7)">3</div>
            <div class="step-content">
              <strong>Client completes payment</strong>
              <span>User pays on Stripe/Razorpay UI</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F59E0B,#F97316)">4</div>
            <div class="step-content">
              <strong>Webhook fires ‚Üí /payment/webhook</strong>
              <span>Payment gateway tells your backend "payment succeeded"</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">5</div>
            <div class="step-content">
              <strong>Wallet credited + history logged</strong>
              <span>Repository updates wallet balance atomically</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flow-card">
        <h3 style="color:#06B6D4">üîÑ Wallet-to-Wallet Transfer</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#3B82F6,#06B6D4)">1</div>
            <div class="step-content">
              <strong>Client sends TransferRequest</strong>
              <span>POST /wallet/transfer ‚Äî amount + receiver ID</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">2</div>
            <div class="step-content">
              <strong>Service validates everything</strong>
              <span>Checks sender balance ‚â• amount, receiver exists, limits</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F59E0B,#F97316)">3</div>
            <div class="step-content">
              <strong>Atomic DB transaction</strong>
              <span>Debit sender + Credit receiver + 2 history rows ‚Äî all or nothing</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EF4444,#F97316)">4</div>
            <div class="step-content">
              <strong>If anything fails ‚Üí rollback</strong>
              <span>@Transactional ensures no partial updates</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">5</div>
            <div class="step-content">
              <strong>TransferResponse returned</strong>
              <span>New balance for both parties confirmed</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flow-card">
        <h3 style="color:#F97316">üè¶ Withdrawal (to Bank)</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F97316,#EF4444)">1</div>
            <div class="step-content">
              <strong>User requests withdrawal</strong>
              <span>POST /withdrawal/request with bank details + amount</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">2</div>
            <div class="step-content">
              <strong>Service validates KYC + balance</strong>
              <span>Must have enough funds and verified identity</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F59E0B,#F97316)">3</div>
            <div class="step-content">
              <strong>Withdrawal record created (PENDING)</strong>
              <span>Funds reserved, record saved to DB</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#A855F7,#6366F1)">4</div>
            <div class="step-content">
              <strong>Admin reviews & approves</strong>
              <span>Usually manual review for large amounts</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">5</div>
            <div class="step-content">
              <strong>Payout happens</strong>
              <span>Status updated to COMPLETED, bank transfer initiated</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3 style="color:#10B981">‚öõÔ∏è Atomicity is Key!</h3>
        <p>Transfers use <code style="color:#34D399">@Transactional</code> in Spring. This means: if ANY step fails (network error, DB crash), the entire operation rolls back. You'll never have money disappear from one wallet without appearing in another.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#06B6D4">üìÅ Files Involved</h3>
        <p>
          <span class="badge badge-purple">controller/</span>
          <span class="badge badge-green">service/</span>
          <span class="badge badge-yellow">repository/</span>
          <span class="badge badge-pink">model/ (Wallet, WalletTransaction)</span>
          <span class="badge badge-blue">request/ response/</span>
          <span class="badge badge-cyan">application.properties (gateway keys)</span>
        </p>
      </div>
    </div>
  </div>

  <!-- ========================= ORDERS ========================= -->
  <div class="tab-panel" id="orders">
    <div class="section-title">üìà <span style="background:linear-gradient(135deg,#F59E0B,#F97316);-webkit-background-clip:text;-webkit-text-fill-color:transparent">Buy / Sell Orders + Portfolio</span></div>

    <div class="multi-flow">
      <div class="flow-card" style="grid-column: 1 / -1; max-width: 700px; margin: 0 auto;">
        <h3 style="color:#F59E0B">üõí Buy Order Flow (e.g. Buy BTC)</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#3B82F6,#06B6D4)">1</div>
            <div class="step-content">
              <strong>Client sends BuyOrderRequest</strong>
              <span>POST /order/buy ‚Äî coinId: "bitcoin", amount: 500 (in fiat)</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EC4899,#A855F7)">2</div>
            <div class="step-content">
              <strong>Service fetches live BTC price</strong>
              <span>Calls CoinGecko API ‚Üí gets current BTC/USD price</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">3</div>
            <div class="step-content">
              <strong>Checks wallet balance</strong>
              <span>Does user have ‚â• $500 fiat in wallet?</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F59E0B,#F97316)">4</div>
            <div class="step-content">
              <strong>Calculates BTC quantity</strong>
              <span>qty = $500 √∑ currentPrice (utils/ helper)</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#A855F7,#6366F1)">5</div>
            <div class="step-content">
              <strong>4 DB writes happen atomically</strong>
              <span>‚ë† Debit wallet $500 ‚ë° Credit BTC in assets ‚ë¢ Create Order record ‚ë£ Create WalletTransaction history</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">6</div>
            <div class="step-content">
              <strong>OrderResponse returned</strong>
              <span>Updated portfolio, new wallet balance, order confirmation</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flow-card">
        <h3 style="color:#EF4444">üìâ Sell Order Flow</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EF4444,#F97316)">1</div>
            <div class="step-content">
              <strong>Client sends SellOrderRequest</strong>
              <span>POST /order/sell ‚Äî coinId + qty to sell</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EC4899,#A855F7)">2</div>
            <div class="step-content">
              <strong>Fetch live price + check holdings</strong>
              <span>Does user hold enough BTC in assets?</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F59E0B,#F97316)">3</div>
            <div class="step-content">
              <strong>Calculate fiat to receive</strong>
              <span>fiat = qty √ó currentPrice</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">4</div>
            <div class="step-content">
              <strong>Atomic writes: debit BTC, credit wallet</strong>
              <span>Assets reduced, wallet fiat increased, records created</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flow-card">
        <h3 style="color:#06B6D4">‚≠ê Watchlist + Coin Search</h3>
        <div class="step-list">
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#06B6D4,#3B82F6)">1</div>
            <div class="step-content">
              <strong>GET /coins/search?q=btc</strong>
              <span>Controller receives search query</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#EC4899,#A855F7)">2</div>
            <div class="step-content">
              <strong>Service calls CoinGecko API</strong>
              <span>Fetches live market data for matching coins</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#10B981,#06B6D4)">3</div>
            <div class="step-content">
              <strong>POST /watchlist/add</strong>
              <span>Service saves coin to user's watchlist in DB</span>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="background:linear-gradient(135deg,#F59E0B,#F97316)">4</div>
            <div class="step-content">
              <strong>GET /watchlist</strong>
              <span>Returns saved coins joined with live CoinGecko prices</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3 style="color:#F59E0B">üìä Portfolio = Assets Table</h3>
        <p>The <code style="color:#FCD34D">assets</code> table tracks exactly how much of each coin a user holds. Every buy increases it, every sell decreases it. The portfolio page reads this table + joins with live prices.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#EC4899">üåç CoinGecko Integration</h3>
        <p>Your backend never stores static prices. Every trade fetches the live price from CoinGecko at the moment of the transaction, ensuring accurate and fair execution.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#F97316">üìÅ Files Involved</h3>
        <p>
          <span class="badge badge-purple">controller/</span>
          <span class="badge badge-green">service/</span>
          <span class="badge badge-yellow">repository/</span>
          <span class="badge badge-pink">model/ (Order, Asset)</span>
          <span class="badge badge-cyan">utils/ (price math)</span>
          <span class="badge badge-blue">request/ response/</span>
        </p>
      </div>
    </div>
  </div>

  <!-- ========================= CHAT ========================= -->
  <div class="tab-panel" id="chat">
    <div class="section-title">ü§ñ <span style="background:linear-gradient(135deg,#A855F7,#EC4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent">AI Chatbot (Gemini + CoinGecko)</span></div>

    <div class="overview-diagram" style="max-width:680px;margin:0 auto 32px;">
      <div class="flow">
        <div class="node" style="background:linear-gradient(135deg,#1e3a5f,#0f2040);border:2px solid #3B82F6;min-width:260px;">
          <div class="icon">üí¨</div>
          <div class="label">User types a question</div>
          <div class="sublabel">"What's the BTC price now?" ¬∑ "Should I buy ETH?"</div>
        </div>
        <div class="arrow-v" style="height:30px;margin:0 auto;"></div>

        <div class="node node-controller" style="min-width:260px;">
          <div class="icon">üéÆ</div>
          <div class="label">Controller receives ChatRequest</div>
          <div class="sublabel">POST /chat/ask ‚Äî { message: "..." }</div>
        </div>
        <div class="arrow-v" style="height:30px;margin:0 auto;"></div>

        <div class="node node-service" style="min-width:260px;">
          <div class="icon">üß†</div>
          <div class="label">Service decides strategy</div>
          <div class="sublabel">Price query? or general knowledge?</div>
        </div>
        <div class="arrow-v" style="height:30px;margin:0 auto;"></div>

        <div style="display:flex;gap:16px;justify-content:center;flex-wrap:wrap;">
          <div class="node node-external" style="min-width:150px;padding:14px 16px;">
            <div class="icon">üìä</div>
            <div class="label" style="font-size:10px;">CoinGecko</div>
            <div class="sublabel">Fetch live price context</div>
          </div>
          <div style="display:flex;align-items:center;">
            <span style="font-size:11px;color:var(--muted);font-weight:700;">BOTH ‚Üí</span>
          </div>
          <div class="node node-external" style="min-width:150px;padding:14px 16px;">
            <div class="icon">ü§ñ</div>
            <div class="label" style="font-size:10px;">Gemini AI</div>
            <div class="sublabel">Generates human response</div>
          </div>
        </div>
        <div class="arrow-v" style="height:30px;margin:0 auto;"></div>

        <div class="node" style="background:linear-gradient(135deg,#1e3a5f,#0f2040);border:2px solid #3B82F6;min-width:260px;">
          <div class="icon">üí°</div>
          <div class="label">ChatResponse sent back</div>
          <div class="sublabel">Human-readable AI answer displayed in UI</div>
        </div>
      </div>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3 style="color:#A855F7">ü§ñ How Gemini is used</h3>
        <p>Your Service builds a <strong>prompt</strong> that includes: the user's question + optionally the live BTC/ETH price from CoinGecko. It sends this to the Gemini API and returns the AI's answer as the chat response.</p>
      </div>
      <div class="info-card">
        <h3 style="color:#EC4899">üìù Example prompt built by Service</h3>
        <p style="font-style:italic;color:#F9A8D4;font-size:12px;">"The current BTC price is $95,000. The user asks: Should I buy Bitcoin now? Respond as a helpful crypto advisor."</p>
      </div>
      <div class="info-card">
        <h3 style="color:#06B6D4">üìÅ Files Involved</h3>
        <p>
          <span class="badge badge-purple">controller/</span>
          <span class="badge badge-green">service/</span>
          <span class="badge badge-cyan">utils/ (Gemini client)</span>
          <span class="badge badge-pink">request/ (ChatRequest)</span>
          <span class="badge badge-blue">response/ (ChatResponse)</span>
          <span class="badge badge-orange">application.properties (Gemini API key)</span>
        </p>
      </div>
    </div>
  </div>

</main>

<script>
  const tabs = document.querySelectorAll('.tab-btn');
  const panels = document.querySelectorAll('.tab-panel');

  tabs.forEach(btn => {
    btn.addEventListener('click', () => {
      const target = btn.dataset.tab;
      tabs.forEach(t => t.classList.remove('active'));
      panels.forEach(p => p.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(target).classList.add('active');
    });
  });
</script>

</body>
</html>
